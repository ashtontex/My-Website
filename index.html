<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>BreatheWell Physio</title>
    <script type="module" crossorigin src="/assets/index-BlhB2Jth.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-C6OQBphR.css">
  </head>
  <body class="min-h-screen bg-white">
    <a href="#main" class="sr-only focus:not-sr-only focus:fixed focus:top-2 focus:left-2 bg-white border px-3 py-2 rounded-md shadow">Skip to content</a>
    <div id="root"></div>
<script>
<script>
(function () {
  // Poll until the SPA renders the black "Send enquiry" button
  function waitForButton() {
    const btn = [...document.querySelectorAll('button, input[type="submit"]')]
      .find(el => (el.textContent || el.value || '').trim().toLowerCase() === 'send enquiry');
    if (!btn) return setTimeout(waitForButton, 200);
    hookUp(btn);
  }

  function hookUp(btn) {
    // Stop native form submits / redirects
    btn.setAttribute('type', 'button');
    btn.closest('form')?.addEventListener('submit', e => e.preventDefault());

    // Find inputs near the button
    let container = btn;
    for (let i = 0; i < 6 && container; i++) {
      container = container.parentElement;
      if (container && container.querySelectorAll('input, textarea').length >= 3) break;
    }
    if (!container) container = document;

    const q = s => container.querySelector(s);
    const inputs = [...container.querySelectorAll('input, textarea')];

    const nameEl   = q('input[placeholder*="name" i]')   || inputs[0];
    const emailEl  = q('input[type="email"]') || q('input[placeholder*="email" i]') || inputs[1];
    const phoneEl  = q('input[type="tel"]')   || q('input[placeholder*="phone" i]') || inputs[2];
    const suburbEl = q('input[placeholder*="suburb" i]') || inputs[3];
    const msgEl    = q('textarea') || inputs.find(x => x.tagName === 'TEXTAREA');

    // Hidden Netlify form
    const nf = document.createElement('form');
    nf.name = 'enquiry';
    nf.method = 'POST';
    nf.setAttribute('data-netlify', 'true');
    nf.style.display = 'none';
    nf.innerHTML = `
      <input type="hidden" name="form-name" value="enquiry">
      <input name="name">
      <input name="email">
      <input name="phone">
      <input name="suburb">
      <textarea name="message"></textarea>
    `;
    document.body.appendChild(nf);

    // Submit handler
    async function submitToNetlify(e) {
      e?.preventDefault?.();

      const vals = {
        name:   nameEl?.value?.trim()   || '',
        email:  emailEl?.value?.trim()  || '',
        phone:  phoneEl?.value?.trim()  || '',
        suburb: suburbEl?.value?.trim() || '',
        message: msgEl?.value?.trim()   || '',
      };

      // Fill hidden form
      Object.entries(vals).forEach(([k, v]) => {
        const el = nf.querySelector(`[name="${k}"]`);
        if (el) el.value = v;
      });

      try {
        await fetch('/', { method: 'POST', body: new FormData(nf) });
        // Replace the visible form area with a nice confirmation
        const target = container.querySelector('form') || container;
        target.innerHTML = '<p style="padding:12px;border-radius:8px;background:#ecfdf5;border:1px solid #86efac;">✅ Thanks! We’ll be in touch within one business day.</p>';
      } catch (err) {
        alert('Sorry, something went wrong. Please try again.');
        console.error(err);
      }
    }

    // Click + Enter key submit
    btn.addEventListener('click', submitToNetlify);
    container.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA')) {
        submitToNetlify(e);
      }
    });
  }

  // Kick things off
  waitForButton();
})();

</script>

  </body>
</html>

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>BreatheWell Physio</title>
    <script type="module" crossorigin src="/assets/index-BlhB2Jth.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-C6OQBphR.css">
  </head>
  <body class="min-h-screen bg-white">
    <a href="#main" class="sr-only focus:not-sr-only focus:fixed focus:top-2 focus:left-2 bg-white border px-3 py-2 rounded-md shadow">Skip to content</a>
    <div id="root"></div>
<script>
(function () {
  // Wait for the SPA UI to render (poll up to ~6s)
  function waitForButton() {
    const btn = [...document.querySelectorAll('button, input[type="submit"]')]
      .find(el => (el.textContent || el.value || '').trim().toLowerCase() === 'send enquiry');
    if (!btn) return setTimeout(waitForButton, 200);
    hookUp(btn);
  }

  function hookUp(sendBtn) {
    // Find a container around the button to scope our inputs
    let container = sendBtn;
    for (let i = 0; i < 6 && container; i++) {
      container = container.parentElement;
      if (container && container.querySelectorAll('input, textarea').length >= 3) break;
    }
    if (!container) container = document;

    const q = s => container.querySelector(s);

    // Prefer semantic selectors, fall back by position
    const inputs = [...container.querySelectorAll('input, textarea')];

    const nameEl   = q('input[placeholder*="name" i]')   || inputs[0];
    const emailEl  = q('input[type="email"]') || q('input[placeholder*="email" i]') || inputs[1];
    const phoneEl  = q('input[type="tel"]')   || q('input[placeholder*="phone" i]') || inputs[2];
    const suburbEl = q('input[placeholder*="suburb" i]') || inputs[3];
    const msgEl    = q('textarea') || inputs.find(x => x.tagName === 'TEXTAREA');

    // Build a hidden Netlify form
    const nf = document.createElement('form');
    nf.name = 'enquiry';
    nf.method = 'POST';
    nf.setAttribute('data-netlify', 'true');
    nf.innerHTML = `
      <input type="hidden" name="form-name" value="enquiry">
      <input name="name">
      <input name="email">
      <input name="phone">
      <input name="suburb">
      <textarea name="message"></textarea>
    `;
    nf.style.display = 'none';
    document.body.appendChild(nf);

    async function submitToNetlify(e) {
      e.preventDefault();

      const vals = {
        name:   nameEl?.value?.trim()   || '',
        email:  emailEl?.value?.trim()  || '',
        phone:  phoneEl?.value?.trim()  || '',
        suburb: suburbEl?.value?.trim() || '',
        message: msgEl?.value?.trim()   || '',
      };

      Object.entries(vals).forEach(([k, v]) => {
        const el = nf.querySelector(`[name="${k}"]`);
        if (el) el.value = v;
      });

      try {
        await fetch('/', { method: 'POST', body: new FormData(nf) });
// Remove the redirect to a page that doesnâ€™t exist
// window.location.href = '/thank-you.html';

// Show a simple success message
alert('Thanks! We received your enquiry.');

        window.location.href = '/thank-you.html';
      } catch (err) {
        alert('Sorry, something went wrong. Please try again in a moment.');
        console.error(err);
      }
    }

    // Handle both button clicks and Enter key inside fields
    sendBtn.addEventListener('click', submitToNetlify);
    container.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA')) {
        submitToNetlify(e);
      }
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', waitForButton);
  } else {
    waitForButton();
  }
})();
</script>

  </body>
</html>
